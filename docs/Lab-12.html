<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Lab-12.utf8.md</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">PSYCH 3400</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Lab-1.html">Lab 1</a>
</li>
<li>
  <a href="Lab-2.html">Lab 2</a>
</li>
<li>
  <a href="Lab-3.html">Lab 3</a>
</li>
<li>
  <a href="Review-Sheet.html">Review Sheet 1</a>
</li>
<li>
  <a href="Lab-4.html">Lab 4</a>
</li>
<li>
  <a href="Lab-5.html">Lab 5</a>
</li>
<li>
  <a href="Lab-6.html">Lab 6</a>
</li>
<li>
  <a href="Lab-7.html">Lab 7</a>
</li>
<li>
  <a href="Review_Sheet_2.html">Review Sheet 2</a>
</li>
<li>
  <a href="Lab-8.html">Lab 8</a>
</li>
<li>
  <a href="Lab-9.html">Lab 9</a>
</li>
<li>
  <a href="Lab-10.html">Lab 10</a>
</li>
<li>
  <a href="Lab-11.html">Lab 11</a>
</li>
<li>
  <a href="Lab-12.html">Lab 12</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">




</div>


<p><br></p>
<div id="non-parametric-tests" class="section level2">
<h2>Non-Parametric Tests</h2>
<p>In this class we have learned the following, <em>parametric</em> tests, that is, tests that work when we have data on an interval or ratio scale:</p>
<ul>
<li>Z-test</li>
</ul>
<p>-T-Test</p>
<ul>
<li><p>Single Sample</p></li>
<li><p>Dependent Samples</p></li>
<li><p>Independent Samples</p></li>
<li><p>One Factor ANOVA</p>
<ul>
<li><p>Between</p></li>
<li><p>Within</p></li>
</ul></li>
<li><p>Two Factor ANOVA</p>
<ul>
<li>Between</li>
</ul></li>
</ul>
<p>These tests all share something in common in that our results are estimates of a</p>
<p>parameter, and they all are derived from a distribution. Additionally, these tests make assumptions about <em>where</em> the data comes from, i.e. normally distributed, equal</p>
<p>variances etc.</p>
<p>What happens when our data does not meet these criteria? Do we throw our data out? No!</p>
<p>We use non-parametric tests. These tests are <em>distribution-free</em>. Think of these tests</p>
<p>as another version of what we have already learned. <br></p>
<p><br></p>
<div id="parametric-tests-and-their-non-parametric-equivalences" class="section level3">
<h3>Parametric Tests and Their Non-Parametric Equivalences</h3>
<p>Instead of a <strong>Paired t-test</strong>, we can use a <strong>Wilcoxin Signed Ranks test</strong>.</p>
<p>Instead of a <strong>Pearson correlation</strong>, we can use a <strong>Spearman correlation</strong>.</p>
<p>Instead of an <strong>Independent T-Test</strong>, we can use a <strong>Mann-Whitney U test</strong>.</p>
<p>Instead of a <strong>One Way ANOVA</strong>, we can use a <strong>Kruskal Wallis Test</strong> instead.</p>
<p>Instead of a <strong>Two Way ANOVA</strong>, we can use a <strong>Friedman Test</strong>.</p>
</div>
<div id="chi-square" class="section level3">
<h3>Chi-Square</h3>
<p>One of the non-parametric tests that does not have a direct equivalence is the chi square test. For this lab you will only need to know about two.</p>
<p>The Chi Square Goodness of Fit test, and the Chi-Square test for independence.</p>
<div id="chi-square-goodness-of-fit" class="section level4">
<h4>Chi-Square Goodness of Fit</h4>
<p>The Goodness of fit test compares whether observed distribution matches an expected distribution.</p>
<p>Imagine that we go out into a wealthy neighborhood and we count 81 Teslas, 50 Ferrari’s, and 27 Saturn’s.</p>
<p>Are these car makes equally common in this neighborhood?</p>
<p>If these car makes were equally common in wealthy neighborhoods, the proportion of them would be <span class="math inline">\(\frac{1}{3}\)</span> each.</p>
<p>However, in this wealthy part of town, the breakdown <em>should</em> be:</p>
<ul>
<li><p><span class="math inline">\(\frac{1}{2} = Tesla\)</span></p></li>
<li><p><span class="math inline">\(\frac{1}{3} = Ferrari\)</span></p></li>
<li><p><span class="math inline">\(\frac{1}{6} = Saturn\)</span></p></li>
</ul>
<p>Is there a significant difference between the observed frequencies and the expected frequencies?</p>
<p>In <code>R</code>, we can use the <code>chisq.test(x,p)</code> function where <code>x</code> = a numeric vector, and <code>p</code> represents probabilities of the same length as `x.</p>
<p>To see if the car makes are equally common in the neighborhood we would create our data:</p>
<pre class="r"><code>#First, we create a vector of our observed frequencies
cars &lt;- c(81,50,27)
#Next, we create a vector of the probabilities assuming the null is  true. 
p &lt;- c(1/3,1/3,1/3)
#Lastly, we name the function &#39;res&#39;, so we can call it later in more detail. Think of why we label regressions and ANOVA&#39;s as &#39;something.mod&#39;. 
res &lt;- chisq.test(cars,p=p)</code></pre>
<div id="proper-reporting" class="section level5">
<h5>Proper Reporting:</h5>
<p>The proper way to report this would be as follows:</p>
<p><span class="math inline">\(\chi^2(2) = 27.886, p &lt;.01\)</span></p>
<p>Now we ask whether or not there is a difference in what we observed and what we expected.</p>
<pre class="r"><code>#If the null were true and the proportion of cars were each 1/3, this is what we would have found
res$expected</code></pre>
<pre><code>[1] 52.66667 52.66667 52.66667</code></pre>
<p>Are these observed frequencies significantly different from the expected frequencies?</p>
<pre class="r"><code>#Create vector of our observations
cars &lt;- c(81,50,27)
#Create vector of our expectations
obs &lt;- c(1/2,1/3,1/6)
#Create output of our test
res &lt;- chisq.test(cars,p=obs)
res</code></pre>
<pre><code>
    Chi-squared test for given probabilities

data:  cars
X-squared = 0.20253, df = 2, p-value = 0.9037</code></pre>
</div>
</div>
<div id="formatting-and-interpretation" class="section level4">
<h4>Formatting and Interpretation</h4>
<p><span class="math inline">\(\chi^2(2) p &gt; .05\)</span></p>
<blockquote>
<p>There is not a significant different in our observed frequencies and the expected frequencies.</p>
</blockquote>
</div>
</div>
<div id="chi-square-test-of-independence" class="section level3">
<h3>Chi-Square Test of Independence</h3>
<p>Similarly, we can use a Chi Square test to see if there is a significant difference in two different groups. For this we will need to make a table.</p>
<pre class="r"><code>mat &lt;- matrix(c(100,100,120,24,25,26,34,13,12),nrow = 3,ncol = 3)
rownames(mat) &lt;- c(&quot;High&quot;,&quot;Medium&quot;,&quot;Low&quot;)
colnames(mat) &lt;- c(&quot;First&quot;,&quot;Second&quot;,&quot;Third&quot;)
mat</code></pre>
<pre><code>       First Second Third
High     100     24    34
Medium   100     25    13
Low      120     26    12</code></pre>
<pre class="r"><code>chisq.test(mat)</code></pre>
<pre><code>
    Pearson&#39;s Chi-squared test

data:  mat
X-squared = 16.025, df = 4, p-value = 0.002986</code></pre>
<div id="formatting" class="section level4">
<h4>Formatting:</h4>
<p><span class="math inline">\(\chi^2(4) = 16.025, p &lt;.01\)</span></p>
</div>
</div>
<div id="spearman-rho" class="section level3">
<h3>Spearman Rho</h3>
<p>Spearman Rho is another way of obtaining a correlation. Let us make a dataframe, plot the variables and calculate a correlation value:</p>
<pre class="r"><code>Professional1 &lt;- c(6,5,7,10,2.5,2.5,9,1,11,4,11,12)
Professional2 &lt;- c(5,3,4,8,1,6,10,2,9,7,8,12)
df &lt;- data.frame(Professional1,Professional2)
plot(df$Professional1~df$Professional2,pch=20)</code></pre>
<p><img src="Lab-12_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<pre class="r"><code>cor.test(x=df$Professional1,y=df$Professional2,method = &quot;spearman&quot;)</code></pre>
<pre><code>
    Spearman&#39;s rank correlation rho

data:  df$Professional1 and df$Professional2
S = 52.274, p-value = 0.001172
alternative hypothesis: true rho is not equal to 0
sample estimates:
      rho 
0.8172245 </code></pre>
<pre class="r"><code>cor(df$Professional1,df$Professional2)</code></pre>
<pre><code>[1] 0.8180358</code></pre>
<div id="proper-reporting-spearman-rho" class="section level4">
<h4>Proper Reporting: Spearman Rho</h4>
<blockquote>
<p>r<sub>s</sub>(12) =.81, p &lt; .05</p>
</blockquote>
</div>
</div>
<div id="mann-whitney-u" class="section level3">
<h3>Mann-Whitney U</h3>
<p>We can use this test when comparing two dependent groups:</p>
<pre class="r"><code>GoodNeighborhood &lt;- c(3, 4, 5, 2, 2, 3, 4, 2, 4, 2, 1, 4)
BadNeighborhood &lt;- c(4, 4, 2, 1, 1, 5, 5, 1, 1, 5, 1, 4)
Neighborhoods &lt;- data.frame(GoodNeighborhood,BadNeighborhood)
boxplot(GoodNeighborhood,BadNeighborhood,data=Neighborhoods)</code></pre>
<p><img src="Lab-12_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<pre class="r"><code>wilcox.test(GoodNeighborhood,BadNeighborhood,data=Neighborhoods)</code></pre>
<pre><code>
    Wilcoxon rank sum test with continuity correction

data:  GoodNeighborhood and BadNeighborhood
W = 77, p-value = 0.7895
alternative hypothesis: true location shift is not equal to 0</code></pre>
<div id="proper-reporting-mann-whitney-u" class="section level4">
<h4>Proper Reporting: Mann-Whitney U</h4>
<p><span class="math inline">\(U_{obt} = 77, NS\)</span></p>
</div>
</div>
<div id="wilcoxin-signed-ranks-test" class="section level3">
<h3>Wilcoxin Signed Ranks Test</h3>
<p>We can use the Wilcoxin Signed Ranks Test when comparing two <em>dependent</em> groups:</p>
<pre class="r"><code>Condition1 &lt;- c(75,66,78,66,25,88,89,60,70,49,88,12)
Condition2 &lt;- c(88,55,78,67,56,85,96,54,97,76,91,13)
twelve_nin &lt;- data.frame(Condition1,Condition2)
twelve_nin</code></pre>
<pre><code>   Condition1 Condition2
1          75         88
2          66         55
3          78         78
4          66         67
5          25         56
6          88         85
7          89         96
8          60         54
9          70         97
10         49         76
11         88         91
12         12         13</code></pre>
<pre class="r"><code>wilcox.test(x=twelve_nin$Condition1,twelve_nin$Condition2,paired = TRUE)</code></pre>
<pre><code>
    Wilcoxon signed rank test with continuity correction

data:  twelve_nin$Condition1 and twelve_nin$Condition2
V = 15.5, p-value = 0.1301
alternative hypothesis: true location shift is not equal to 0</code></pre>
<div id="proper-reporting-1" class="section level4">
<h4>Proper Reporting:</h4>
<p><span class="math inline">\(V(12) = 15.5, p &gt;.05\)</span></p>
</div>
</div>
<div id="kruskal-wallis-test" class="section level3">
<h3>Kruskal Wallis Test</h3>
<p>We can use the Kruskal Wallis Test when we want to test several independent variables.</p>
<p>Imagine we have the following data:</p>
<pre class="r"><code>Food_1 &lt;-c(&quot;good&quot;,&quot;good&quot;,&quot;good&quot;,&quot;ok&quot;,&quot;ok&quot;,&quot;poor&quot;,&quot;good&quot;)
Food_2 &lt;-c(&quot;good&quot;,&quot;superior&quot;,&quot;excellent&quot;,&quot;ok&quot;,&quot;excellent&quot;,&quot;excellent&quot;,&quot;good&quot;)
Food_3 &lt;-c(&quot;good&quot;,&quot;superior&quot;,&quot;excellent&quot;,&quot;ok&quot;,&quot;ok&quot;,&quot;ok&quot;,&quot;good&quot;) 
Food_4 &lt;-c(&quot;superior&quot;,&quot;excellent&quot;,&quot;good&quot;,&quot;excellent&quot;,&quot;excellent&quot;,&quot;superior&quot;,&quot;superior&quot;)
FoodRating &lt;- data.frame(Food_1,Food_2,Food_3,Food_4)
FoodRating</code></pre>
<pre><code>  Food_1    Food_2    Food_3    Food_4
1   good      good      good  superior
2   good  superior  superior excellent
3   good excellent excellent      good
4     ok        ok        ok excellent
5     ok excellent        ok excellent
6   poor excellent        ok  superior
7   good      good      good  superior</code></pre>
<p>The problem with this data is that we cannot directly do an analysis because the data type is character. We can recode this like such:</p>
<pre class="r"><code>Food_1 &lt;- c(3,3,3,2,2,1,3)
Food_2 &lt;- c(3,5,4,2,4,4,3)
Food_3 &lt;- c(3,5,4,2,2,2,3)
Food_4 &lt;- c(5,4,3,4,4,5,5)
NFoodRating &lt;- data.frame(Food_1,Food_2,Food_3,Food_4)
NFoodRating</code></pre>
<pre><code>  Food_1 Food_2 Food_3 Food_4
1      3      3      3      5
2      3      5      5      4
3      3      4      4      3
4      2      2      2      4
5      2      4      2      4
6      1      4      2      5
7      3      3      3      5</code></pre>
<pre class="r"><code>kruskal.test(NFoodRating)</code></pre>
<pre><code>
    Kruskal-Wallis rank sum test

data:  NFoodRating
Kruskal-Wallis chi-squared = 10.677, df = 3, p-value = 0.01361</code></pre>
<div id="proper-formatting" class="section level4">
<h4>Proper Formatting:</h4>
<p><span class="math inline">\(H(4) = 10.677, p &lt;.05\)</span></p>
</div>
</div>
<div id="friedman-test" class="section level3">
<h3>Friedman Test</h3>
<p>We can use a Friedman Test when we want to compare the effect of two or more independent variables on a dependent variable like such:</p>
<p><em>Remember: This test is designed to replicate the two-way ANOVA, just with different data types, because of this your data needs to look similar.</em></p>
<pre class="r"><code>a &lt;- rep(c(&quot;Thing 0&quot;,&quot;Thing 1&quot;,&quot;Thing 10&quot;,&quot;Thing 100&quot;),each=12)
y &lt;- round(runif(48,min=c(11.1,11.2,11.1,11.6),max = c(11.7,11.7,22.6,18)),digits=1)
b &lt;- as.factor(rep(1:12,4))
fried_tst &lt;- data.frame(a,b,y)
fried_tst</code></pre>
<pre><code>           a  b    y
1    Thing 0  1 11.3
2    Thing 0  2 11.6
3    Thing 0  3 12.2
4    Thing 0  4 11.8
5    Thing 0  5 11.2
6    Thing 0  6 11.3
7    Thing 0  7 13.1
8    Thing 0  8 15.8
9    Thing 0  9 11.2
10   Thing 0 10 11.3
11   Thing 0 11 18.1
12   Thing 0 12 15.9
13   Thing 1  1 11.1
14   Thing 1  2 11.6
15   Thing 1  3 21.2
16   Thing 1  4 17.4
17   Thing 1  5 11.4
18   Thing 1  6 11.3
19   Thing 1  7 20.6
20   Thing 1  8 17.7
21   Thing 1  9 11.5
22   Thing 1 10 11.7
23   Thing 1 11 18.1
24   Thing 1 12 13.5
25  Thing 10  1 11.2
26  Thing 10  2 11.3
27  Thing 10  3 15.9
28  Thing 10  4 12.1
29  Thing 10  5 11.3
30  Thing 10  6 11.3
31  Thing 10  7 16.4
32  Thing 10  8 13.8
33  Thing 10  9 11.2
34  Thing 10 10 11.3
35  Thing 10 11 18.4
36  Thing 10 12 14.9
37 Thing 100  1 11.3
38 Thing 100  2 11.5
39 Thing 100  3 20.3
40 Thing 100  4 13.6
41 Thing 100  5 11.6
42 Thing 100  6 11.4
43 Thing 100  7 19.1
44 Thing 100  8 13.2
45 Thing 100  9 11.4
46 Thing 100 10 11.6
47 Thing 100 11 15.1
48 Thing 100 12 12.6</code></pre>
<pre class="r"><code>friedman.test(y~a|b)</code></pre>
<pre><code>
    Friedman rank sum test

data:  y and a and b
Friedman chi-squared = 6.027, df = 3, p-value = 0.1103</code></pre>
<div id="proper-formatting-1" class="section level4">
<h4>Proper Formatting</h4>
<p><span class="math inline">\(fr_{obt} (3), = 3.2655,N.S\)</span></p>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
