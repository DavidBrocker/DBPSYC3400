<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title></title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">PSYCH 3400</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Lab-1.html">Lab 1</a>
</li>
<li>
  <a href="Lab-2.html">Lab 2</a>
</li>
<li>
  <a href="Lab-3.html">Lab 3</a>
</li>
<li>
  <a href="Review-Sheet.html">Review Sheet 1</a>
</li>
<li>
  <a href="Lab-4.html">Lab 4</a>
</li>
<li>
  <a href="Lab-5.html">Lab 5</a>
</li>
<li>
  <a href="Lab-6.html">Lab 6</a>
</li>
<li>
  <a href="Lab-7.html">Lab 7</a>
</li>
<li>
  <a href="Lab-8.html">Lab 8</a>
</li>
<li>
  <a href="Review-Sheet-2.html">Review Sheet 2</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">




</div>


<p><br> ###Correlation</p>
<p>Correlaton refers to the strength of the relationship between two different variables.</p>
<p>Correlation is often represented by the letter r.</p>
<p>The equation for correlation(r) looks a little intimidating but if it is broken down into steps, it is much more managable.</p>
<p><span class="math inline">\(r = \frac{n(\sum(xy)-(\sum x)(\sum(y))}{\sqrt{n \sum x ^2-(\sum x)^2][n \sum y ^2-(\sum y)^2]}}\)</span></p>
<p>Let’s take a closer look at the denominator first:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(n(\sum(xy)-(\sum x)(\sum(y))\)</span></li>
</ol>
<p>The first thing we should do is have a dataset to work with:</p>
<p>x = 5, 5, 4, 4, 5, 5, 4, 5, 3, 5, 6, 6, 5, 6, 6 y = 13, 12, 13, 14, 13, 12, 11, 12, 11, 12, 13, 12, 12, 13, 13</p>
<p>Each dataset has 15 data points. When you work with larger datasets you may want to avoid having to count each number so r has a built in function called <code>length()</code> which will return the number of items in your variable. We know our first term is 15 so we will add that to the formula.</p>
<ol start="2" style="list-style-type: decimal">
<li><span class="math inline">\(r = \frac{15(\sum(xy)-(\sum x)(\sum(y))}{\sqrt{15 \sum x ^2-(\sum x)^2][15 \sum y ^2-(\sum y)^2]}}\)</span></li>
</ol>
<p>The next part is asking us to compute the sum of the values of x multiplied by the values of y and then add that to the formula.</p>
<pre class="r"><code>x = c(5, 5, 4, 4, 5, 5, 4, 5, 3, 5, 6, 6, 5, 6, 6)
y = c(13, 12, 13, 14, 13, 12, 11, 12, 11, 12, 13, 12, 12, 13, 13)
xy=sum(x*y)
xy</code></pre>
<pre><code>[1] 921</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><span class="math inline">\(r = \frac{15(921)-(\sum x)(\sum(y))}{\sqrt{15 \sum x ^2-(\sum x)^2][15 \sum y ^2-(\sum y)^2]}}\)</span></li>
</ol>
<p>Next we need to subtract this amount from the result from the product of the sum of all of the values of x and the sum of all the values of y.</p>
<pre class="r"><code>x = c(5, 5, 4, 4, 5, 5, 4, 5, 3, 5, 6, 6, 5, 6, 6)
y = c(13, 12, 13, 14, 13, 12, 11, 12, 11, 12, 13, 12, 12, 13, 13)
sumx = sum(x)
sumy = sum(y)
sumx</code></pre>
<pre><code>[1] 74</code></pre>
<pre class="r"><code>sumy</code></pre>
<pre><code>[1] 186</code></pre>
<ol start="4" style="list-style-type: decimal">
<li><span class="math inline">\(r = \frac{15(921-(74)(186)}{\sqrt{15 \sum x ^2-(\sum x)^2][15 \sum y ^2-(\sum y)^2]}}\)</span></li>
</ol>
<p>Let’s just take care of the numerator for now.</p>
<pre class="r"><code>num=(15*xy)-(sumx*sumy)
num</code></pre>
<pre><code>[1] 51</code></pre>
<ol start="5" style="list-style-type: decimal">
<li><span class="math inline">\(r = \frac{51}{\sqrt{15 \sum x ^2-(\sum x)^2][15 \sum y ^2-(\sum y)^2]}}\)</span></li>
</ol>
<p>Alright, now let us look at the denominator.</p>
<p><span class="math inline">\({\sqrt{15 \sum x ^2-(\sum x)^2][15 \sum y ^2-(\sum y)^2]}}\)</span></p>
<p>You should notice that the denominator is sort of a mirror image, the first part handles x and the second part handles y.</p>
<pre class="r"><code>dsumx=sum(x^2)
dsumy=sum(y^2)
dsumx</code></pre>
<pre><code>[1] 376</code></pre>
<pre class="r"><code>dsumy</code></pre>
<pre><code>[1] 2316</code></pre>
<ol start="6" style="list-style-type: decimal">
<li><span class="math inline">\(r = {\sqrt{15(376)-(\sum x)^2][15(2316))-(\sum y)^2]}}\)</span></li>
</ol>
<p>Again, the same thing is being done to x and y. We are going to sum the values in x and then square them, and do the same to the values in y.</p>
<pre class="r"><code>ssx=sum(x)^2
ssy=sum(y)^2
ssx</code></pre>
<pre><code>[1] 5476</code></pre>
<pre class="r"><code>ssy</code></pre>
<pre><code>[1] 34596</code></pre>
<ol start="7" style="list-style-type: decimal">
<li><span class="math inline">\({\sqrt{15(376)-5,476][15(2316))-34,596]}}\)</span></li>
</ol>
<p>Now we can clean up the denominator:</p>
<pre class="r"><code>den = sqrt(((15*dsumx)-(ssx))*((15*dsumy)-(ssy)))
den</code></pre>
<pre><code>[1] 153.675</code></pre>
<ol start="8" style="list-style-type: decimal">
<li><span class="math inline">\(r = \frac{51}{153.675}\)</span></li>
</ol>
<p>Now divide</p>
<pre class="r"><code>r = num/den
r</code></pre>
<pre><code>[1] 0.3318692</code></pre>
<ol start="9" style="list-style-type: decimal">
<li><span class="math inline">\(r = 0.33\)</span></li>
</ol>
<p>Before we start discussing what that means, let us see the other way of calculating r (there are many)</p>
<pre class="r"><code>x</code></pre>
<pre><code> [1] 5 5 4 4 5 5 4 5 3 5 6 6 5 6 6</code></pre>
<pre class="r"><code>y</code></pre>
<pre><code> [1] 13 12 13 14 13 12 11 12 11 12 13 12 12 13 13</code></pre>
<pre class="r"><code>corxy=cor(x,y)
corxy</code></pre>
<pre><code>[1] 0.3318692</code></pre>
<p>That seems <em>a lot</em> easier than the eight steps we went through!</p>
<p>The important thing to remember is that while R can do things for you very fast, it is important that you know why you are doing them in the first place!</p>
<p>So we found that for our data, the r was equal to <code>r</code>. This is a relatively weak correlation. In psychology you will likely never see correlations that are above .9. This obtained r of 0.3318692 would indicate some positive correlation. In order to obtain <span class="math inline">\(R^2\)</span>we simply square the obtained r and get 0.1101372</p>
<p>Here is what a plot of the data looks like:</p>
<pre class="r"><code>plot(x~y)</code></pre>
<p><img src="Lab-3_files/figure-html/unnamed-chunk-9-1.png" width="1152" /> It would be hard to guess a correlation by just looking at this data. There are only 15 points, but we can tell they are not all in the same space, nor are they all randomly dispersed. So if we <em>had</em> to take a guess, we could assume that a slight correlation could be prsent.</p>
<p>Let us take a look at a data set with some meaning and more data points.</p>
<pre class="r"><code>plot(cars$speed~cars$dist, xlab=&quot;Distance&quot;,ylab = &quot;Speed&quot;,main=&quot;Distance vs. Speed&quot;, sub = &quot;r = .81&quot;)</code></pre>
<p><img src="Lab-3_files/figure-html/unnamed-chunk-10-1.png" width="1152" /></p>
<pre class="r"><code>cor(cars$speed,cars$dist)</code></pre>
<pre><code>[1] 0.8068949</code></pre>
<div id="linear-regression" class="section level2">
<h2>Linear Regression</h2>
<p>Linear regression refers to an equation of the “best fitting line” that shows where a line could be placed taht would best explain the relationship, if any, or your data.</p>
<p>The equation is as follows:</p>
<p><span class="math inline">\(\hat{Y_x} = a_x + b_yx\)</span></p>
<p>Where <span class="math inline">\(\hat{Y}\)</span> equals the predicted value of Y given X.</p>
<p>In order to find b:</p>
<p><span class="math inline">\(b = \frac{n\sum XY -\sum X\sum Y }{n\sum X^2-\sum (X)^2}\)</span> or <span class="math inline">\(b = \frac{\sum XY }{\sum X^2}\)</span></p>
<p>In order to fid a:</p>
<p><span class="math inline">\(a = \mathrel{\bar{Y}}-b\mathrel{\bar{X}}\)</span></p>
<p>Let us work with a sample set of data:</p>
<p>x = 20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100</p>
<p>y = 10.93,11.78,10.97,11.27,11.37,10.31,12.84,12.15,10.86,13.25,12.43,11.70,12.90 12.8,12.82,12.69,12.55</p>
<pre class="r"><code>x = c(20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100)
y= c(10.93,11.78,10.97,11.27,11.37,10.31,12.84,12.15,10.86,13.25,12.43,11.70,12.90,
 12.8,12.82,12.69,12.55)
x</code></pre>
<pre><code> [1]  20  25  30  35  40  45  50  55  60  65  70  75  80  85  90  95 100</code></pre>
<pre class="r"><code>y</code></pre>
<pre><code> [1] 10.93 11.78 10.97 11.27 11.37 10.31 12.84 12.15 10.86 13.25 12.43
[12] 11.70 12.90 12.80 12.82 12.69 12.55</code></pre>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(n\sum XY -\sum X\sum Y\)</span></li>
</ol>
<pre class="r"><code>length(x)</code></pre>
<pre><code>[1] 17</code></pre>
<pre class="r"><code>length(y)</code></pre>
<pre><code>[1] 17</code></pre>
<pre class="r"><code>topb=(sum(x*y))-(sum(x)*(sum(y)/17))
topb</code></pre>
<pre><code>[1] 243.25</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><span class="math inline">\(b = \frac{243.25}{n\sum X^2-\sum (X)^2}\)</span></li>
</ol>
<pre class="r"><code>botb= (sum(x^2))-((sum(x)^2)/17)
botb</code></pre>
<pre><code>[1] 10200</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><span class="math inline">\(b = \frac{243.25}{10,200}\)</span></li>
</ol>
<pre class="r"><code>b=topb/botb
b</code></pre>
<pre><code>[1] 0.02384804</code></pre>
<p><span class="math inline">\(a = \mathrel{\bar{Y}}-b\mathrel{\bar{X}}\)</span></p>
<pre class="r"><code>a=mean(y)-b*(mean(x))
a</code></pre>
<pre><code>[1] 10.54676</code></pre>
<p><span class="math inline">\(\hat{Y} = 10.546 + .0238x\)</span></p>
<p><span class="math inline">\(\frac{\sum(X-\mathrel{\bar{X}}^2)\sum(Y-\mathrel{\bar{Y}}^2)}{\sum(X-\mathrel{\bar{X}})^2}\)</span></p>
<p>or</p>
<p><span class="math inline">\(\frac{SSxy}{SSx}\)</span></p>
<pre class="r"><code>ssxy=sum((x-mean(x))*(y-mean(y)))
ssxy</code></pre>
<pre><code>[1] 243.25</code></pre>
<pre class="r"><code>ssx=sum((x - mean(x))^2)
ssx</code></pre>
<pre><code>[1] 10200</code></pre>
<p><span class="math inline">\(\frac{243.25}{10,200}\)</span></p>
<pre class="r"><code>b = (ssxy/ssx)
b = round(b,digits=4)
b</code></pre>
<pre><code>[1] 0.0238</code></pre>
<pre class="r"><code>a=(mean(y))-(b*(mean(x)))
a</code></pre>
<pre><code>[1] 10.54965</code></pre>
<p><span class="math inline">\(\hat{Y} = 10.546 + .0238x\)</span></p>
<p>As with correlation, there is an ‘easier’ way to find the equation for the best fitting line.</p>
<p>Now, let us use the <code>lm()</code> function to create the prediction equation. What you will notice is the use of <code>&lt;-</code>, which is another way of assignment. We will also name the equation prediction <code>xy.mod</code>. which stands for model.</p>
<pre class="r"><code>xy.mod&lt;-lm(y~x)
xy.mod = summary(xy.mod)
xy.mod</code></pre>
<pre><code>
Call:
lm(formula = y ~ x)

Residuals:
     Min       1Q   Median       3Q      Max 
-1.30993 -0.29221 -0.09373  0.29159  1.15311 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 10.546765   0.438253  24.065 2.13e-13 ***
x            0.023848   0.006762   3.527  0.00305 ** 
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 0.683 on 15 degrees of freedom
Multiple R-squared:  0.4533,    Adjusted R-squared:  0.4168 
F-statistic: 12.44 on 1 and 15 DF,  p-value: 0.003052</code></pre>
<p>From the above output you should note a few things: the number across from the <code>(Intercept)</code> will be your value for a. The number across from <code>x</code> will be your value for b. This <code>summary()</code> will also give you other statistics such as the <code>R-squared</code>.</p>
<p>We have the equation of the line, so let us draw it To do this we will use the <code>abline()</code> function. The parts of the function asks to specify the <code>a=</code> and <code>b=</code> so the full function should read <code>abline(a=intercept,b=slope)</code>. We will throw in <code>col=</code> in order to color the line red. There are plenty of graphical options built into R, we will not go too in depth at the moment. `</p>
<p>Before inserting the function, we will need to <code>plot</code> our data first. When dealing with so-called ‘real’ data, your dependent variable should be the y and the independent should be the x.</p>
<pre class="r"><code>plot(y~x,sub=&quot;Line of Best Fit Y&#39;=10.546+.0238x&quot;)
abline(a=a,b=b,col=&quot;red&quot;)</code></pre>
<p><img src="Lab-3_files/figure-html/unnamed-chunk-22-1.png" width="1152" /></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
